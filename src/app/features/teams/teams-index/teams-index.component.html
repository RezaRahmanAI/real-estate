<div class="p-6">
  <div class="flex items-center mb-4">
    <h6 class="text-lg font-bold text-gray-900 dark:text-white grow">List of Teams</h6>
    <button
      type="button"
      (click)="openCreateModal()"
      class="px-5 py-1 text-white bg-cyan-600 border border-cyan-500 hover:bg-cyan-700 hover:border-cyan-600 focus:ring-2 focus:ring-cyan-200 dark:focus:ring-cyan-400/20 rounded-lg"
    >
      <span class="align-middle">Create Team</span>
    </button>
  </div>

  <!-- Team Form Modal -->
  <app-team-form
    *ngIf="showFormModal"
    [team]="selectedTeam!"
    [mode]="formMode"
    (close)="closeFormModal()"
    (saved)="onTeamSaved()"
  ></app-team-form>

  <!-- Teams Table -->
  <div class="relative overflow-x-auto shadow-md bg-white rounded-lg">
    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
      <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
        <tr>
          <th scope="col" class="px-6 py-3">Name</th>
          <th scope="col" class="px-6 py-3">Designation</th>
          <th scope="col" class="px-6 py-3">Description</th>
          <th scope="col" class="px-6 py-3">Facebook</th>
          <th scope="col" class="px-6 py-3">Twitter</th>
          <th scope="col" class="px-6 py-3">LinkedIn</th>
          <th scope="col" class="px-6 py-3">Image</th>
          <th scope="col" class="px-6 py-3">Status</th>
          <th scope="col" class="px-6 py-3">Order</th>
          <th scope="col" class="px-6 py-3">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let item of teams"
          class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"
        >
          <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
            {{ item.name }}
          </th>
          <td class="px-6 py-4">{{ item.designation }}</td>
          <td class="px-6 py-4">{{ item.description }}</td>
          <td class="px-6 py-4"><a [href]="item.facebook" target="_blank" class="text-blue-600 hover:underline">Link</a></td>
          <td class="px-6 py-4"><a [href]="item.twitter" target="_blank" class="text-blue-600 hover:underline">Link</a></td>
          <td class="px-6 py-4"><a [href]="item.linkedin" target="_blank" class="text-blue-600 hover:underline">Link</a></td>
          <td class="px-6 py-4">
            <img [src]="apiBaseUrl + '/api/attachment/get/' + item.image" alt="Team Image" class="w-10 h-10 object-cover rounded" />
          </td>
          <td class="px-6 py-4">
            <span *ngIf="item.isActive" class="px-2.5 py-0.5 text-xs font-medium rounded bg-green-100 text-green-500 dark:bg-green-500/20 inline-flex items-center">
              <i class="fas fa-check-circle mr-1.5"></i> Active
            </span>
            <span *ngIf="!item.isActive" class="px-2.5 py-0.5 text-xs font-medium rounded bg-red-100 text-red-500 dark:bg-red-500/20 inline-flex items-center">
              <i class="fas fa-times-circle mr-1.5"></i> Inactive
            </span>
          </td>
          <td class="px-6 py-4">{{ item.order }}</td>
          <td class="px-6 py-4 text-right space-x-2">
            <button
              (click)="openEditModal(item)"
              class="text-blue-700 hover:text-white border border-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-3 py-1 dark:border-blue-500 dark:text-blue-500 dark:hover:text-white dark:hover:bg-blue-500"
            >
              Edit
            </button>
            <button
              *ngIf="item.isActive"
              (click)="toggleActiveStatus(item.id, false)"
              class="text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-1 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600"
            >
              Deactivate
            </button>
            <button
              *ngIf="!item.isActive"
              (click)="toggleActiveStatus(item.id, true)"
              class="text-green-700 hover:text-white border border-green-700 hover:bg-green-800 focus:ring-4 focus:outline-none focus:ring-green-300 font-medium rounded-lg text-sm px-3 py-1 dark:border-green-500 dark:text-green-500 dark:hover:text-white dark:hover:bg-green-600"
            >
              Activate
            </button>
            <button
              (click)="deleteTeam(item.id)"
              class="text-red-700 hover:text-white border border-red-700 hover:bg-red-800 focus:ring-4 focus:outline-none focus:ring-red-300 font-medium rounded-lg text-sm px-3 py-1 dark:border-red-500 dark:text-red-500 dark:hover:text-white dark:hover:bg-red-600"
            >
              Delete
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>